(function(){"use strict";var t={543:function(t,r,o){var n=o(963),e=o(252);const a={id:"app"};function c(t,r,o,n,c,s){const d=(0,e.up)("NavBar"),u=(0,e.up)("router-view");return(0,e.wg)(),(0,e.iD)("div",a,[(0,e.Wm)(d),(0,e.Wm)(u)])}const s=t=>((0,e.dD)("data-v-2cb6750e"),t=t(),(0,e.Cn)(),t),d={id:"nav-bar"},u=s((()=>(0,e._)("h1",null,"BlackRose Shop",-1))),i=s((()=>(0,e._)("button",null,"Giỏ hàng",-1)));function p(t,r,o,n,a,c){const s=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",d,[(0,e.Wm)(s,{to:"/products",id:"products-link"},{default:(0,e.w5)((()=>[u])),_:1}),(0,e.Wm)(s,{to:"/cart",id:"cart-link"},{default:(0,e.w5)((()=>[i])),_:1})])}var m={name:"NavBar"},l=o(744);const v=(0,l.Z)(m,[["render",p],["__scopeId","data-v-2cb6750e"]]);var g=v,h={name:"App",components:{NavBar:g}};const w=(0,l.Z)(h,[["render",c]]);var f=w,_=o(201),b=o(577);const I=t=>((0,e.dD)("data-v-7712dd6c"),t=t(),(0,e.Cn)(),t),P={id:"page-wrap"},k=I((()=>(0,e._)("h1",null,"Giỏ hàng",-1))),y={id:"total-price"},D=I((()=>(0,e._)("button",{id:"checkout-button"},"Thanh toán",-1)));function C(t,r,o,n,a,c){const s=(0,e.up)("ProductsList");return(0,e.wg)(),(0,e.iD)("div",P,[k,(0,e.Wm)(s,{products:a.cartItems,onRemoveFromCart:r[0]||(r[0]=t=>c.removeFromCart(t))},null,8,["products"]),(0,e._)("h3",y,"Tổng: "+(0,b.zw)(c.totalPrice)+"đ",1),D])}var Z=o(154);const O={key:0},j={key:1};function z(t,r,o,n,a,c){const s=(0,e.up)("ProductsListItem");return o.products.length>0?((0,e.wg)(),(0,e.iD)("div",O,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(o.products,(o=>((0,e.wg)(),(0,e.j4)(s,{onRemoveFromCart:r[0]||(r[0]=r=>t.$emit("remove-from-cart",r)),key:o.id,product:o},null,8,["product"])))),128))])):((0,e.wg)(),(0,e.iD)("p",j,"Thêm sản phẩm vào giỏ hàng ngay nào!"))}const F={class:"product-container"},T=["src"],G={class:"details-wrap"};function N(t,r,o,n,a,c){return(0,e.wg)(),(0,e.iD)("div",F,[(0,e._)("img",{class:"product-image",src:o.product.imageUrl},null,8,T),(0,e._)("div",G,[(0,e._)("h3",null,(0,b.zw)(o.product.name),1),(0,e._)("p",null,(0,b.zw)(o.product.price)+"đ",1)]),(0,e._)("button",{class:"remove-button",onClick:r[0]||(r[0]=r=>t.$emit("remove-from-cart",o.product.id))},"Xóa")])}var S={name:"ProductsListItem",props:["product"]};const W=(0,l.Z)(S,[["render",N],["__scopeId","data-v-32cb58b6"]]);var L=W,M={name:"ProductsList",props:["products"],components:{ProductsListItem:L}};const $=(0,l.Z)(M,[["render",z]]);var x=$,B={name:"CartPage",components:{ProductsList:x},data(){return{cartItems:[]}},methods:{async removeFromCart(t){const r=await Z.Z["delete"](`/api/users/123/cart/${t}`);this.cartItems=r.data}},computed:{totalPrice(){return this.cartItems.reduce(((t,r)=>t+Number(r.price)),0)}},async created(){const t=await Z.Z.get("/api/users/123/cart"),r=t.data;this.cartItems=r}};const R=(0,l.Z)(B,[["render",C],["__scopeId","data-v-7712dd6c"]]);var q=R;const U={id:"page-wrap"};function H(t,r,o,n,a,c){const s=(0,e.up)("ProductsGrid");return(0,e.wg)(),(0,e.iD)("div",U,[(0,e.Wm)(s,{products:a.products},null,8,["products"])])}const K={class:"grid-wrap"};function X(t,r,o,n,a,c){const s=(0,e.up)("ProductsGridItem");return(0,e.wg)(),(0,e.iD)("div",K,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(o.products,(t=>((0,e.wg)(),(0,e.j4)(s,{key:t.id,product:t},null,8,["product"])))),128))])}const Y=t=>((0,e.dD)("data-v-74676d06"),t=t(),(0,e.Cn)(),t),A={class:"product-item"},E=["src"],J={class:"product-name"},Q={class:"product-price"},V=Y((()=>(0,e._)("button",null,"Xem chi tiết",-1)));function tt(t,r,o,n,a,c){const s=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)("div",A,[(0,e._)("img",{src:o.product.imageUrl},null,8,E),(0,e._)("h3",J,(0,b.zw)(o.product.name),1),(0,e._)("p",Q,(0,b.zw)(o.product.price)+"đ",1),(0,e.Wm)(s,{to:"/products/"+o.product.id},{default:(0,e.w5)((()=>[V])),_:1},8,["to"])])}var rt={name:"ProductsGridItem",props:["product"]};const ot=(0,l.Z)(rt,[["render",tt],["__scopeId","data-v-74676d06"]]);var nt=ot,et={name:"ProductsGrid",props:["products"],components:{ProductsGridItem:nt}};const at=(0,l.Z)(et,[["render",X],["__scopeId","data-v-2a4c406a"]]);var ct=at,st={components:{ProductsGrid:ct},name:"ProductsPage",data(){return{products:[]}},async created(){const t=await Z.Z.get("/api/products"),r=t.data;this.products=r}};const dt=(0,l.Z)(st,[["render",H]]);var ut=dt;const it=t=>((0,e.dD)("data-v-1458ef6e"),t=t(),(0,e.Cn)(),t),pt={key:0,id:"page-wrap"},mt={id:"img-wrap"},lt=["src"],vt={id:"product-details"},gt={id:"price"},ht={key:1,id:"add-to-cart",class:"green-button"},wt={key:2,id:"add-to-cart",class:"grey-button"},ft=it((()=>(0,e._)("h4",null,"Mô tả: ",-1)));function _t(t,r,o,n,a,c){const s=(0,e.up)("NotFoundPage");return a.product?((0,e.wg)(),(0,e.iD)("div",pt,[(0,e._)("div",mt,[(0,e._)("img",{src:a.product.imageUrl},null,8,lt)]),(0,e._)("div",vt,[(0,e._)("h1",null,(0,b.zw)(a.product.name),1),(0,e._)("h3",gt,(0,b.zw)(a.product.price)+"đ",1),(0,e._)("p",null,"Đánh giá: "+(0,b.zw)(a.product.averageRating),1),c.itemIsInCart||a.showSucessMessage?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("button",{key:0,id:"add-to-cart",onClick:r[0]||(r[0]=(...t)=>c.addToCart&&c.addToCart(...t))},"Thêm vào giỏ")),!c.itemIsInCart&&a.showSucessMessage?((0,e.wg)(),(0,e.iD)("button",ht,"Sản phẩm đã thêm vào giỏ")):(0,e.kq)("",!0),c.itemIsInCart?((0,e.wg)(),(0,e.iD)("button",wt,"Sản phẩm đã tồn tại trong giỏ hàng")):(0,e.kq)("",!0),ft,(0,e._)("p",null,(0,b.zw)(a.product.description),1)])])):((0,e.wg)(),(0,e.j4)(s,{key:1}))}function bt(t,r,o,n,a,c){return(0,e.wg)(),(0,e.iD)("h1",null,"404: Page Not Found")}var It={name:"NotFoundPage"};const Pt=(0,l.Z)(It,[["render",bt],["__scopeId","data-v-755c0ab0"]]);var kt=Pt,yt={name:"ProductsDetailPage",components:{NotFoundPage:kt},data(){return{product:{},cartItems:[],showSucessMessage:!1}},computed:{itemIsInCart(){return this.cartItems.some((t=>t.id===this.product.id))}},methods:{async addToCart(){await Z.Z.post("/api/users/123/cart",{productId:this.$route.params.id}),this.showSucessMessage=!0}},async created(){const{data:t}=await Z.Z.get(`/api/products/${this.$route.params.id}`);this.product=t;const{data:r}=await Z.Z.get("/api/users/123/cart");this.cartItems=r}};const Dt=(0,l.Z)(yt,[["render",_t],["__scopeId","data-v-1458ef6e"]]);var Ct=Dt;const Zt=[{path:"/products",name:"Products",component:ut},{path:"/products/:id",name:"ProductDetail",component:Ct},{path:"/cart",name:"Cart",component:q},{path:"/",redirect:"/products"},{path:"/:pathMatch(.*)*",component:kt}],Ot=(0,_.p7)({history:(0,_.PO)("/"),routes:Zt});var jt=Ot;(0,n.ri)(f).use(jt).mount("#app")}},r={};function o(n){var e=r[n];if(void 0!==e)return e.exports;var a=r[n]={exports:{}};return t[n](a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(r,n,e,a){if(!n){var c=1/0;for(i=0;i<t.length;i++){n=t[i][0],e=t[i][1],a=t[i][2];for(var s=!0,d=0;d<n.length;d++)(!1&a||c>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[d])}))?n.splice(d--,1):(s=!1,a<c&&(c=a));if(s){t.splice(i--,1);var u=e();void 0!==u&&(r=u)}}return r}a=a||0;for(var i=t.length;i>0&&t[i-1][2]>a;i--)t[i]=t[i-1];t[i]=[n,e,a]}}(),function(){o.d=function(t,r){for(var n in r)o.o(r,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){var t={143:0};o.O.j=function(r){return 0===t[r]};var r=function(r,n){var e,a,c=n[0],s=n[1],d=n[2],u=0;if(c.some((function(r){return 0!==t[r]}))){for(e in s)o.o(s,e)&&(o.m[e]=s[e]);if(d)var i=d(o)}for(r&&r(n);u<c.length;u++)a=c[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(i)},n=self["webpackChunkfront_end"]=self["webpackChunkfront_end"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(543)}));n=o.O(n)})();
//# sourceMappingURL=app.3a22bd21.js.map